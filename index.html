<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>OX ÌÄ¥Ï¶à</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Malgun Gothic', Roboto, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #1e1b4b 0%, #581c87 50%, #831843 100%);
            padding: 16px;
        }
        
        .container {
            max-width: 500px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .title {
            font-size: 2.2rem;
            font-weight: bold;
            color: white;
            margin-bottom: 4px;
        }
        
        .title .green { color: #4ade80; }
        .title .gray { color: #d1d5db; }
        .title .red { color: #f87171; }
        
        .subtitle {
            color: #c4b5fd;
            font-size: 0.95rem;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 20px;
            color: white;
        }
        
        .input-group {
            margin-bottom: 16px;
        }
        
        .input-group label {
            display: block;
            font-size: 0.9rem;
            margin-bottom: 6px;
            color: #e9d5ff;
        }
        
        .input-field {
            width: 100%;
            padding: 14px 16px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            font-size: 16px;
            outline: none;
        }
        
        .input-field::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        
        .input-field:focus {
            border-color: #a78bfa;
            box-shadow: 0 0 0 3px rgba(167, 139, 250, 0.3);
        }
        
        .slider-container {
            margin-bottom: 18px;
        }
        
        .slider {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            -webkit-appearance: none;
            background: rgba(255, 255, 255, 0.3);
            outline: none;
            margin-top: 10px;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: #a78bfa;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0,0,0,0.3);
        }
        
        .btn {
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 12px;
            font-size: 1.05rem;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.2s;
            margin-bottom: 10px;
        }
        
        .btn:active {
            transform: scale(0.98);
            opacity: 0.9;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #22c55e 0%, #059669 100%);
            color: white;
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }
        
        .btn-purple {
            background: linear-gradient(135deg, #a855f7 0%, #ec4899 100%);
            color: white;
        }
        
        .btn-blue {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
        }
        
        .status-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 12px 14px;
            margin-bottom: 12px;
            color: white;
            font-size: 0.9rem;
        }
        
        .score-badge {
            background: rgba(234, 179, 8, 0.3);
            color: #fde047;
            padding: 5px 12px;
            border-radius: 16px;
            font-weight: bold;
        }
        
        .timer-bar {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            height: 12px;
            overflow: hidden;
            margin-bottom: 14px;
        }
        
        .timer-fill {
            height: 100%;
            transition: width 1s linear, background-color 0.3s;
            border-radius: 20px;
        }
        
        .timer-green { background: #22c55e; }
        .timer-yellow { background: #eab308; }
        .timer-red { background: #ef4444; }
        
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 14px;
        }
        
        .question-badge {
            background: rgba(168, 85, 247, 0.5);
            padding: 5px 14px;
            border-radius: 16px;
            font-size: 0.85rem;
            font-weight: 600;
        }
        
        .question-text {
            font-size: 1.2rem;
            font-weight: 500;
            margin-bottom: 28px;
            line-height: 1.7;
        }
        
        .timer-display {
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            font-weight: bold;
        }
        
        .timer-warning {
            color: #f87171;
            animation: pulse 0.5s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.4; }
        }
        
        .answer-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 14px;
        }
        
        .answer-btn {
            padding: 35px 12px;
            border: none;
            border-radius: 20px;
            font-size: 2.5rem;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            transition: all 0.15s;
            color: white;
            -webkit-user-select: none;
            user-select: none;
        }
        
        .answer-btn:active {
            transform: scale(0.94);
        }
        
        .btn-o {
            background: linear-gradient(135deg, #22c55e 0%, #059669 100%);
            box-shadow: 0 6px 20px rgba(34, 197, 94, 0.4);
        }
        
        .btn-x {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            box-shadow: 0 6px 20px rgba(239, 68, 68, 0.4);
        }
        
        .answer-icon {
            font-size: 2.2rem;
        }
        
        .result-box {
            padding: 16px;
            border-radius: 12px;
            margin-bottom: 14px;
        }
        
        .result-correct {
            background: rgba(34, 197, 94, 0.3);
            border: 2px solid #4ade80;
        }
        
        .result-wrong {
            background: rgba(239, 68, 68, 0.3);
            border: 2px solid #f87171;
        }
        
        .result-timeout {
            background: rgba(107, 114, 128, 0.3);
            border: 2px solid #9ca3af;
        }
        
        .result-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 6px;
        }
        
        .result-correct .result-title { color: #4ade80; }
        .result-wrong .result-title { color: #f87171; }
        .result-timeout .result-title { color: #9ca3af; }
        
        .explanation-box {
            background: rgba(255, 255, 255, 0.1);
            padding: 16px;
            border-radius: 12px;
            margin-bottom: 14px;
            font-size: 0.95rem;
            line-height: 1.6;
        }
        
        .explanation-label {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 6px;
        }
        
        .final-result {
            text-align: center;
        }
        
        .trophy-icon {
            font-size: 4rem;
            margin-bottom: 12px;
        }
        
        .final-title {
            font-size: 1.9rem;
            font-weight: bold;
            margin-bottom: 20px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 24px;
        }
        
        .stat-box {
            background: rgba(255, 255, 255, 0.1);
            padding: 16px;
            border-radius: 12px;
            text-align: center;
        }
        
        .stat-label {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 4px;
        }
        
        .stat-value {
            font-size: 1.6rem;
            font-weight: bold;
        }
        
        .stat-yellow { color: #fbbf24; }
        .stat-purple { color: #c084fc; }
        .stat-green { color: #4ade80; }
        .stat-blue { color: #60a5fa; }
        
        .leaderboard-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            border-radius: 12px;
            margin-bottom: 8px;
            font-size: 0.95rem;
        }
        
        .rank-1 { background: rgba(234, 179, 8, 0.25); border: 1px solid rgba(234, 179, 8, 0.6); }
        .rank-2 { background: rgba(156, 163, 175, 0.25); border: 1px solid rgba(156, 163, 175, 0.6); }
        .rank-3 { background: rgba(217, 119, 6, 0.25); border: 1px solid rgba(217, 119, 6, 0.6); }
        .rank-other { background: rgba(255, 255, 255, 0.05); }
        
        .rank-badge {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.85rem;
            flex-shrink: 0;
        }
        
        .rank-1 .rank-badge { background: #eab308; color: #422006; }
        .rank-2 .rank-badge { background: #9ca3af; color: #1f2937; }
        .rank-3 .rank-badge { background: #d97706; color: #422006; }
        .rank-other .rank-badge { background: rgba(255, 255, 255, 0.2); }
        
        .player-info {
            flex: 1;
            min-width: 0;
        }
        
        .player-name {
            font-weight: 600;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .player-stats {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 2px;
        }
        
        .player-score {
            text-align: right;
            flex-shrink: 0;
        }
        
        .score-value {
            font-weight: bold;
            color: #fbbf24;
            font-size: 1.05rem;
        }
        
        .score-detail {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.6);
        }
        
        .empty-state {
            text-align: center;
            padding: 32px;
            color: rgba(255, 255, 255, 0.6);
        }
        
        .empty-icon {
            font-size: 3rem;
            margin-bottom: 12px;
            opacity: 0.5;
        }
        
        .header-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 18px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .leaderboard-title {
            font-size: 1.4rem;
            font-weight: bold;
        }
        
        .btn-small {
            padding: 10px 14px;
            font-size: 0.85rem;
            width: auto;
            margin-bottom: 0;
        }
        
        .leaderboard-list {
            max-height: 380px;
            overflow-y: auto;
        }
        
        .footer {
            text-align: center;
            color: rgba(255, 255, 255, 0.4);
            font-size: 0.85rem;
            margin-top: 24px;
        }
        
        .hidden {
            display: none !important;
        }
        
        .participant-count {
            background: rgba(34, 197, 94, 0.3);
            color: #4ade80;
            padding: 12px 16px;
            border-radius: 20px;
            text-align: center;
            margin-bottom: 18px;
            font-size: 0.95rem;
            font-weight: 500;
        }
        
        .btn-group {
            display: flex;
            gap: 8px;
        }
        
        .my-entry {
            background: rgba(168, 85, 247, 0.35) !important;
            border: 2px solid #a855f7 !important;
        }
        
        .qr-section {
            text-align: center;
            margin-bottom: 20px;
            padding: 16px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
        }
        
        .qr-code {
            background: white;
            padding: 12px;
            border-radius: 12px;
            display: inline-block;
            margin: 12px 0;
        }
        
        .qr-code img {
            display: block;
            width: 160px;
            height: 160px;
        }
        
        .qr-text {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .qr-toggle {
            background: rgba(255, 255, 255, 0.15);
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }
        
        .qr-toggle:active {
            background: rgba(255, 255, 255, 0.25);
        }
        
        .btn-danger {
            background: rgba(239, 68, 68, 0.3);
            color: #fca5a5;
        }
        
        .divider {
            height: 1px;
            background: rgba(255, 255, 255, 0.1);
            margin: 16px 0;
        }
        
        /* Î™®Î∞îÏùº ÏµúÏ†ÅÌôî */
        @media (max-width: 400px) {
            .title { font-size: 1.8rem; }
            .question-text { font-size: 1.1rem; }
            .answer-btn { padding: 28px 10px; font-size: 2rem; }
            .stats-grid { gap: 8px; }
            .stat-value { font-size: 1.4rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Ìó§Îçî -->
        <div class="header">
            <h1 class="title">
                <span class="green">O</span>
                <span class="gray">/</span>
                <span class="red">X</span>
                ÌÄ¥Ï¶à
            </h1>
            <p class="subtitle">Îπ†Î•¥Í≥† Ï†ïÌôïÌïòÍ≤å ÎãµÌïòÏÑ∏Ïöî!</p>
        </div>
        
        <!-- ÏÑ§Ï†ï ÌôîÎ©¥ -->
        <div id="setup-screen" class="card">
            <!-- QR ÏΩîÎìú ÏÑπÏÖò -->
            <div class="qr-section">
                <button class="qr-toggle" onclick="toggleQR()">
                    üì± <span id="qr-toggle-text">QR ÏΩîÎìúÎ°ú Í≥µÏú†ÌïòÍ∏∞</span>
                </button>
                <div id="qr-container" class="hidden">
                    <div class="qr-code">
                        <img id="qr-image" src="" alt="QR Code">
                    </div>
                    <p class="qr-text">QR ÏΩîÎìúÎ•º Ïä§Ï∫îÌïòÏó¨ Ï∞∏Ïó¨ÌïòÏÑ∏Ïöî!</p>
                </div>
            </div>
            
            <div class="participant-count">
                üéÆ Ï¥ù Ï∞∏Ïó¨ Í∏∞Î°ù: <span id="total-participants">0</span>Ìöå
            </div>
            
            <div class="input-group">
                <label>Ï∞∏Í∞ÄÏûê Ïù¥Î¶Ñ</label>
                <input type="text" id="player-name" class="input-field" placeholder="Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî" maxlength="20" autocomplete="off">
            </div>
            
            <div class="slider-container">
                <label>Î¨∏Ï†úÎãπ Ï†úÌïúÏãúÍ∞Ñ: <span id="time-display">15</span>Ï¥à</label>
                <input type="range" id="time-slider" class="slider" min="5" max="30" value="15">
            </div>
            
            <button class="btn btn-primary" onclick="startGame()">
                ‚ñ∂ ÌÄ¥Ï¶à ÏãúÏûëÌïòÍ∏∞
            </button>
            
            <button class="btn btn-secondary" onclick="showLeaderboard()">
                üèÜ Î¶¨ÎçîÎ≥¥Îìú Î≥¥Í∏∞
            </button>
        </div>
        
        <!-- ÌÄ¥Ï¶à ÌôîÎ©¥ -->
        <div id="quiz-screen" class="hidden">
            <div class="status-bar">
                <div>üë§ <span id="display-name"></span></div>
                <div style="display: flex; align-items: center; gap: 12px;">
                    <span id="question-counter">Î¨∏Ï†ú 1/8</span>
                    <span class="score-badge" id="current-score">0Ï†ê</span>
                </div>
            </div>
            
            <div class="timer-bar" id="timer-bar-container">
                <div class="timer-fill timer-green" id="timer-fill"></div>
            </div>
            
            <div class="card">
                <div class="question-header">
                    <span class="question-badge" id="question-badge">Q1</span>
                    <div class="timer-display" id="timer-display">‚è± 15Ï¥à</div>
                </div>
                
                <p class="question-text" id="question-text"></p>
                
                <div id="answer-buttons" class="answer-buttons">
                    <button class="answer-btn btn-o" onclick="submitAnswer(true)">
                        <span class="answer-icon">‚úì</span>
                        <span>O</span>
                    </button>
                    <button class="answer-btn btn-x" onclick="submitAnswer(false)">
                        <span class="answer-icon">‚úó</span>
                        <span>X</span>
                    </button>
                </div>
                
                <div id="explanation-section" class="hidden">
                    <div id="result-box" class="result-box">
                        <div class="result-title" id="result-title"></div>
                        <p id="correct-answer"></p>
                    </div>
                    
                    <div class="explanation-box">
                        <p class="explanation-label">üí° Ìï¥ÏÑ§</p>
                        <p id="explanation-text"></p>
                    </div>
                    
                    <button class="btn btn-purple" onclick="nextQuestion()">
                        <span id="next-btn-text">Îã§Ïùå Î¨∏Ï†ú</span> ‚Üí
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Í≤∞Í≥º ÌôîÎ©¥ -->
        <div id="result-screen" class="card hidden">
            <div class="final-result">
                <div class="trophy-icon">üèÜ</div>
                <h2 class="final-title">ÌÄ¥Ï¶à ÏôÑÎ£å!</h2>
                
                <div class="stats-grid">
                    <div class="stat-box">
                        <p class="stat-label">Ï¥ùÏ†ê</p>
                        <p class="stat-value stat-yellow" id="final-score">0</p>
                    </div>
                    <div class="stat-box">
                        <p class="stat-label">ÏàúÏúÑ</p>
                        <p class="stat-value stat-purple" id="final-rank">#1</p>
                    </div>
                    <div class="stat-box">
                        <p class="stat-label">Ï†ïÎãµÎ•†</p>
                        <p class="stat-value stat-green" id="final-accuracy">0%</p>
                    </div>
                    <div class="stat-box">
                        <p class="stat-label">ÌèâÍ∑† ÏùëÎãµÏãúÍ∞Ñ</p>
                        <p class="stat-value stat-blue" id="final-time">0Ï¥à</p>
                    </div>
                </div>
                
                <button class="btn btn-primary" onclick="resetGame()">
                    üîÑ Îã§Ïãú ÎèÑÏ†ÑÌïòÍ∏∞
                </button>
                
                <button class="btn btn-secondary" onclick="showLeaderboard()">
                    üèÜ Ï†ÑÏ≤¥ ÏàúÏúÑ Î≥¥Í∏∞
                </button>
            </div>
        </div>
        
        <!-- Î¶¨ÎçîÎ≥¥Îìú ÌôîÎ©¥ -->
        <div id="leaderboard-screen" class="card hidden">
            <div class="header-row">
                <h2 class="leaderboard-title">üèÜ Î¶¨ÎçîÎ≥¥Îìú</h2>
                <div class="btn-group">
                    <button class="btn btn-secondary btn-small" onclick="showSetup()">ÎèåÏïÑÍ∞ÄÍ∏∞</button>
                </div>
            </div>
            
            <div id="leaderboard-list" class="leaderboard-list"></div>
            
            <div class="divider"></div>
            
            <button class="btn btn-danger btn-small" onclick="resetLeaderboard()" style="width: 100%;">
                üóë Î¶¨ÎçîÎ≥¥Îìú Ï¥àÍ∏∞Ìôî
            </button>
        </div>
        
        <p class="footer">Í≥ºÌïô OX ÌÄ¥Ï¶à | Îπ†Î•¥Í≥† Ï†ïÌôïÌïòÍ≤å!</p>
    </div>
    
    <script>
        // ========================================
        // ÌÄ¥Ï¶à Î¨∏Ï†ú Îç∞Ïù¥ÌÑ∞ (Ïó¨Í∏∞ÏÑú ÏàòÏ†ï Í∞ÄÎä•)
        // ========================================
        const quizzes = [
            { 
                id: 1, 
                question: "ÎπõÏùò ÏÜçÎèÑÎäî Ï¥àÏÜç ÏïΩ 30Îßå kmÏù¥Îã§.", 
                answer: true, 
                explanation: "ÎπõÏùò ÏÜçÎèÑÎäî ÏßÑÍ≥µÏóêÏÑú ÏïΩ 299,792 km/sÏûÖÎãàÎã§." 
            },
            { 
                id: 2, 
                question: "Î¨ºÏùÄ ÏÑ≠Ïî® 100ÎèÑÏóêÏÑú Ìï≠ÏÉÅ ÎÅìÎäîÎã§.", 
                answer: false, 
                explanation: "Î¨ºÏùò ÎÅìÎäîÏ†êÏùÄ Í∏∞ÏïïÏóê Îî∞Îùº Îã¨ÎùºÏßëÎãàÎã§. ÎÜíÏùÄ ÏÇ∞ÏóêÏÑúÎäî 100ÎèÑ Ïù¥ÌïòÏóêÏÑú ÎÅìÏäµÎãàÎã§." 
            },
            { 
                id: 3, 
                question: "Îã§Ïù¥ÏïÑÎ™¨ÎìúÏôÄ Ïó∞ÌïÑÏã¨(ÌùëÏó∞)ÏùÄ Í∞ôÏùÄ ÏõêÏÜåÎ°ú Ïù¥Î£®Ïñ¥Ï†∏ ÏûàÎã§.", 
                answer: true, 
                explanation: "Îëò Îã§ ÌÉÑÏÜå(C)Î°úÎßå Ïù¥Î£®Ïñ¥Ï†∏ ÏûàÏúºÎ©∞, ÏõêÏûê Î∞∞Ïó¥ Íµ¨Ï°∞Îßå Îã§Î¶ÖÎãàÎã§." 
            },
            { 
                id: 4, 
                question: "ÏßÄÍµ¨ÏóêÏÑú Í∞ÄÏû• Í∞ÄÍπåÏö¥ Î≥ÑÏùÄ ÌÉúÏñëÏù¥Îã§.", 
                answer: true, 
                explanation: "ÌÉúÏñëÏùÄ ÏßÄÍµ¨ÏóêÏÑú ÏïΩ 1Ïñµ 5Ï≤úÎßå km Îñ®Ïñ¥ÏßÑ Í∞ÄÏû• Í∞ÄÍπåÏö¥ Î≥ÑÏûÖÎãàÎã§." 
            },
            { 
                id: 5, 
                question: "ÏÜåÎ¶¨Îäî ÏßÑÍ≥µÏóêÏÑúÎèÑ Ï†ÑÎã¨Îê† Ïàò ÏûàÎã§.", 
                answer: false, 
                explanation: "ÏÜåÎ¶¨Îäî Îß§Ïßà(Í≥µÍ∏∞, Î¨º Îì±)Ïù¥ ÏûàÏñ¥Ïïº Ï†ÑÎã¨Îê©ÎãàÎã§. ÏßÑÍ≥µÏóêÏÑúÎäî Ï†ÑÎã¨ÎêòÏßÄ ÏïäÏäµÎãàÎã§." 
            },
            { 
                id: 6, 
                question: "Ïù∏Í∞ÑÏùò Îºà Í∞úÏàòÎäî Ïñ¥Î¶∞Ïù¥Í∞Ä ÏÑ±Ïù∏Î≥¥Îã§ ÎßéÎã§.", 
                answer: true, 
                explanation: "Ïñ¥Î¶∞Ïù¥Îäî ÏïΩ 300Í∞ú, ÏÑ±Ïù∏ÏùÄ ÏïΩ 206Í∞úÏùò ÎºàÎ•º Í∞ÄÏßÄÍ≥† ÏûàÏäµÎãàÎã§. ÏÑ±Ïû•ÌïòÎ©¥ÏÑú ÏùºÎ∂Ä ÎºàÍ∞Ä ÏúµÌï©Îê©ÎãàÎã§." 
            },
            { 
                id: 7, 
                question: "Î≤àÍ∞úÍ∞Ä ÏπòÎ©¥ ÏÜåÎ¶¨Î≥¥Îã§ ÎπõÏù¥ Î®ºÏ†Ä Î≥¥Ïù∏Îã§.", 
                answer: true, 
                explanation: "ÎπõÏùò ÏÜçÎèÑ(ÏïΩ 30Îßå km/s)Í∞Ä ÏÜåÎ¶¨Ïùò ÏÜçÎèÑ(ÏïΩ 340 m/s)Î≥¥Îã§ Ìõ®Ïî¨ Îπ†Î•¥Í∏∞ ÎïåÎ¨∏ÏûÖÎãàÎã§." 
            },
            { 
                id: 8, 
                question: "Í∏àÏùÄ Î¨ºÏóê Îú¨Îã§.", 
                answer: false, 
                explanation: "Í∏àÏùò Î∞ÄÎèÑ(19.3 g/cm¬≥)Îäî Î¨º(1 g/cm¬≥)Î≥¥Îã§ Ìõ®Ïî¨ ÌÅ¨ÎØÄÎ°ú Î¨ºÏóê Í∞ÄÎùºÏïâÏäµÎãàÎã§." 
            },
        ];
        
        // ========================================
        // Í≤åÏûÑ ÏÉÅÌÉú Î≥ÄÏàò
        // ========================================
        let playerName = '';
        let timeLimit = 15;
        let currentQuestion = 0;
        let score = 0;
        let totalTime = 0;
        let correctCount = 0;
        let remainingTime = 15;
        let questionStartTime = null;
        let timerInterval = null;
        let myTimestamp = null;
        let answering = false;
        let leaderboard = [];
        let qrVisible = false;
        
        // ========================================
        // Î°úÏª¨ Ïä§ÌÜ†Î¶¨ÏßÄ Ìï®Ïàò
        // ========================================
        function loadLeaderboard() {
            try {
                const saved = localStorage.getItem('ox-quiz-leaderboard');
                if (saved) {
                    leaderboard = JSON.parse(saved);
                }
            } catch (e) {
                console.log('Î¶¨ÎçîÎ≥¥Îìú Î°úÎìú Ïã§Ìå®');
                leaderboard = [];
            }
        }
        
        function saveLeaderboard() {
            try {
                localStorage.setItem('ox-quiz-leaderboard', JSON.stringify(leaderboard));
            } catch (e) {
                console.error('Î¶¨ÎçîÎ≥¥Îìú Ï†ÄÏû• Ïã§Ìå®');
            }
        }
        
        // ========================================
        // QR ÏΩîÎìú Ìï®Ïàò
        // ========================================
        function generateQRUrl() {
            const currentUrl = window.location.href;
            return `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(currentUrl)}`;
        }
        
        function toggleQR() {
            const container = document.getElementById('qr-container');
            const toggleText = document.getElementById('qr-toggle-text');
            const qrImage = document.getElementById('qr-image');
            
            qrVisible = !qrVisible;
            
            if (qrVisible) {
                qrImage.src = generateQRUrl();
                container.classList.remove('hidden');
                toggleText.textContent = 'QR ÏΩîÎìú Ïà®Í∏∞Í∏∞';
            } else {
                container.classList.add('hidden');
                toggleText.textContent = 'QR ÏΩîÎìúÎ°ú Í≥µÏú†ÌïòÍ∏∞';
            }
        }
        
        // ========================================
        // ÌôîÎ©¥ Ï†ÑÌôò Ìï®Ïàò
        // ========================================
        function showScreen(screenId) {
            ['setup-screen', 'quiz-screen', 'result-screen', 'leaderboard-screen'].forEach(id => {
                document.getElementById(id).classList.add('hidden');
            });
            document.getElementById(screenId).classList.remove('hidden');
        }
        
        function showSetup() {
            updateParticipantCount();
            showScreen('setup-screen');
        }
        
        function updateParticipantCount() {
            document.getElementById('total-participants').textContent = leaderboard.length;
        }
        
        // ========================================
        // Í≤åÏûÑ Î°úÏßÅ
        // ========================================
        document.getElementById('time-slider').addEventListener('input', function() {
            timeLimit = parseInt(this.value);
            document.getElementById('time-display').textContent = timeLimit;
        });
        
        // Enter ÌÇ§Î°ú Í≤åÏûÑ ÏãúÏûë
        document.getElementById('player-name').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                startGame();
            }
        });
        
        function startGame() {
            playerName = document.getElementById('player-name').value.trim();
            if (!playerName) {
                alert('Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî!');
                document.getElementById('player-name').focus();
                return;
            }
            
            currentQuestion = 0;
            score = 0;
            totalTime = 0;
            correctCount = 0;
            
            document.getElementById('display-name').textContent = playerName;
            document.getElementById('current-score').textContent = '0Ï†ê';
            
            showScreen('quiz-screen');
            showQuestion();
        }
        
        function showQuestion() {
            answering = false;
            const quiz = quizzes[currentQuestion];
            
            document.getElementById('question-counter').textContent = `Î¨∏Ï†ú ${currentQuestion + 1}/${quizzes.length}`;
            document.getElementById('question-badge').textContent = `Q${currentQuestion + 1}`;
            document.getElementById('question-text').textContent = quiz.question;
            
            document.getElementById('answer-buttons').classList.remove('hidden');
            document.getElementById('explanation-section').classList.add('hidden');
            document.getElementById('timer-bar-container').classList.remove('hidden');
            
            remainingTime = timeLimit;
            questionStartTime = Date.now();
            updateTimerDisplay();
            startTimer();
        }
        
        function startTimer() {
            if (timerInterval) clearInterval(timerInterval);
            
            timerInterval = setInterval(() => {
                remainingTime--;
                updateTimerDisplay();
                
                if (remainingTime <= 0) {
                    clearInterval(timerInterval);
                    submitAnswer(null);
                }
            }, 1000);
        }
        
        function updateTimerDisplay() {
            const timerDisplay = document.getElementById('timer-display');
            const timerFill = document.getElementById('timer-fill');
            
            timerDisplay.textContent = `‚è± ${remainingTime}Ï¥à`;
            timerFill.style.width = `${(remainingTime / timeLimit) * 100}%`;
            
            timerFill.className = 'timer-fill';
            if (remainingTime > timeLimit * 0.6) {
                timerFill.classList.add('timer-green');
            } else if (remainingTime > timeLimit * 0.3) {
                timerFill.classList.add('timer-yellow');
            } else {
                timerFill.classList.add('timer-red');
            }
            
            if (remainingTime <= 5) {
                timerDisplay.classList.add('timer-warning');
            } else {
                timerDisplay.classList.remove('timer-warning');
            }
        }
        
        function submitAnswer(answer) {
            if (answering) return;
            answering = true;
            
            clearInterval(timerInterval);
            
            const timeTaken = (Date.now() - questionStartTime) / 1000;
            const quiz = quizzes[currentQuestion];
            const isCorrect = answer === quiz.answer;
            const isTimeout = answer === null;
            
            // Ï†êÏàò Í≥ÑÏÇ∞: Ï†ïÎãµ Ïãú Í∏∞Î≥∏ 100Ï†ê + ÏãúÍ∞Ñ Î≥¥ÎÑàÏä§
            let questionScore = 0;
            if (isCorrect) {
                const timeBonus = Math.max(0, Math.floor((timeLimit - timeTaken) * 10));
                questionScore = 100 + timeBonus;
                correctCount++;
            }
            
            score += questionScore;
            totalTime += timeTaken;
            
            document.getElementById('current-score').textContent = `${score}Ï†ê`;
            
            // Í≤∞Í≥º ÌëúÏãú
            const resultBox = document.getElementById('result-box');
            const resultTitle = document.getElementById('result-title');
            
            resultBox.className = 'result-box';
            
            if (isTimeout) {
                resultBox.classList.add('result-timeout');
                resultTitle.textContent = '‚è± ÏãúÍ∞Ñ Ï¥àÍ≥º!';
            } else if (isCorrect) {
                resultBox.classList.add('result-correct');
                resultTitle.textContent = `‚úì Ï†ïÎãµ! +${questionScore}Ï†ê`;
            } else {
                resultBox.classList.add('result-wrong');
                resultTitle.textContent = '‚úó Ïò§Îãµ!';
            }
            
            document.getElementById('correct-answer').textContent = `Ï†ïÎãµ: ${quiz.answer ? 'O' : 'X'}`;
            document.getElementById('explanation-text').textContent = quiz.explanation;
            
            document.getElementById('next-btn-text').textContent = 
                currentQuestion + 1 >= quizzes.length ? 'Í≤∞Í≥º Î≥¥Í∏∞' : 'Îã§Ïùå Î¨∏Ï†ú';
            
            document.getElementById('answer-buttons').classList.add('hidden');
            document.getElementById('explanation-section').classList.remove('hidden');
            document.getElementById('timer-bar-container').classList.add('hidden');
        }
        
        function nextQuestion() {
            currentQuestion++;
            
            if (currentQuestion >= quizzes.length) {
                finishGame();
            } else {
                showQuestion();
            }
        }
        
        function finishGame() {
            const accuracy = Math.round((correctCount / quizzes.length) * 100);
            const avgTime = (totalTime / quizzes.length).toFixed(1);
            
            myTimestamp = Date.now();
            
            // Î¶¨ÎçîÎ≥¥ÎìúÏóê Ï∂îÍ∞Ä
            const entry = {
                name: playerName,
                score: score,
                correct: correctCount,
                total: quizzes.length,
                accuracy: accuracy,
                avgTime: avgTime,
                timestamp: myTimestamp
            };
            
            leaderboard.push(entry);
            leaderboard.sort((a, b) => b.score - a.score || parseFloat(a.avgTime) - parseFloat(b.avgTime));
            leaderboard = leaderboard.slice(0, 100); // ÏÉÅÏúÑ 100Î™ÖÎßå Ïú†ÏßÄ
            saveLeaderboard();
            
            // ÏàúÏúÑ Ï∞æÍ∏∞
            const rank = leaderboard.findIndex(e => e.timestamp === myTimestamp) + 1;
            
            // Í≤∞Í≥º ÌëúÏãú
            document.getElementById('final-score').textContent = score;
            document.getElementById('final-rank').textContent = `#${rank}`;
            document.getElementById('final-accuracy').textContent = `${accuracy}%`;
            document.getElementById('final-time').textContent = `${avgTime}Ï¥à`;
            
            showScreen('result-screen');
        }
        
        function resetGame() {
            document.getElementById('player-name').value = '';
            myTimestamp = null;
            updateParticipantCount();
            showScreen('setup-screen');
        }
        
        // ========================================
        // Î¶¨ÎçîÎ≥¥Îìú Ìï®Ïàò
        // ========================================
        function renderLeaderboard() {
            const listEl = document.getElementById('leaderboard-list');
            
            if (leaderboard.length === 0) {
                listEl.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">üë•</div>
                        <p>ÏïÑÏßÅ Ï∞∏Í∞ÄÏûêÍ∞Ä ÏóÜÏäµÎãàÎã§.</p>
                        <p style="font-size: 0.85rem; margin-top: 8px;">Ï≤´ Î≤àÏß∏ ÎèÑÏ†ÑÏûêÍ∞Ä ÎêòÏñ¥Î≥¥ÏÑ∏Ïöî!</p>
                    </div>
                `;
            } else {
                listEl.innerHTML = leaderboard.map((entry, index) => {
                    const rankClass = index === 0 ? 'rank-1' : index === 1 ? 'rank-2' : index === 2 ? 'rank-3' : 'rank-other';
                    const medal = index === 0 ? 'ü•á' : index === 1 ? 'ü•à' : index === 2 ? 'ü•â' : (index + 1);
                    const isMe = entry.timestamp === myTimestamp;
                    const myClass = isMe ? 'my-entry' : '';
                    
                    return `
                        <div class="leaderboard-item ${rankClass} ${myClass}">
                            <div class="rank-badge">${medal}</div>
                            <div class="player-info">
                                <p class="player-name">${entry.name}${isMe ? ' (ÎÇò)' : ''}</p>
                                <p class="player-stats">Ï†ïÎãµÎ•† ${entry.accuracy}% ¬∑ ÌèâÍ∑† ${entry.avgTime}Ï¥à</p>
                            </div>
                            <div class="player-score">
                                <p class="score-value">${entry.score}Ï†ê</p>
                                <p class="score-detail">${entry.correct}/${entry.total}</p>
                            </div>
                        </div>
                    `;
                }).join('');
            }
        }
        
        function showLeaderboard() {
            renderLeaderboard();
            showScreen('leaderboard-screen');
        }
        
        function resetLeaderboard() {
            if (confirm('Î¶¨ÎçîÎ≥¥ÎìúÏùò Î™®Îì† Í∏∞Î°ùÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {
                leaderboard = [];
                saveLeaderboard();
                myTimestamp = null;
                renderLeaderboard();
                updateParticipantCount();
            }
        }
        
        // ========================================
        // Ï¥àÍ∏∞Ìôî
        // ========================================
        loadLeaderboard();
        updateParticipantCount();
    </script>
</body>
</html>
